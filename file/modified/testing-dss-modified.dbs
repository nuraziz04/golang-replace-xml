<root>
   <data enableBoxcarring="true" name="testing-dss" serviceNamespace="DataService" transports="http https local">
      <config enableOData="false" id="testingdso">
         <property name="carbon_datasource_name">SqlServer</property>
      </config>
      <config enableOData="false" id="testingdso2">
         <property name="carbon_datasource_name">OMSocket</property>
      </config>
      <query id="getColumnMstCollAttendance" returnUpdatedRowCount="false" useConfig="testingdso">
         <sql>SELECT 1 as attCode, 1 attName, 1 attendFlag, 1 cashFlag, 1 utjFlag</sql>
         <result element="Entries" rowName="" useColumnNumbers="false">
            <element column="attCode" name="attCode" xsdType="string"></element>
            <element column="attName" name="attName" xsdType="string"></element>
            <element column="attendFlag" name="attendFlag" xsdType="string"></element>
            <element column="cashFlag" name="cashFlag" xsdType="string"></element>
            <element column="utjFlag" name="utjFlag" xsdType="string"></element>
         </result>
      </query>
      <query id="getCountMstCollAttendance" returnUpdatedRowCount="false" useConfig="testingdso">
         <sql>SELECT COUNT(*) as total FROM (&#xD;&#x9;SELECT &#xD;&#x9;&#x9;A.company_code companyCode,&#xD;&#x9;&#x9;A.att_code attCode,&#xD;&#x9;&#x9;A.att_name attName,&#xD;&#x9;&#x9;A.attend_flag attendFlag,&#xD;&#x9;&#x9;A.cash_flag cashFlag,&#xD;&#x9;&#x9;A.utj_flag utjFlag,&#xD;&#x9;&#x9;A.flag_Active flagActive,&#xD;&#x9;&#x9;CONVERT(varchar, A.UPDATE_DATE, 121) as updatedDateStr&#xD;&#x9;FROM MST_COLL_ATTENDANCE A&#xD;) t WHERE :search :filter</sql>
         <result element="count" rowName="" useColumnNumbers="false">
            <element column="total" name="total" xsdType="string"></element>
         </result>
         <param name="search" sqlType="QUERY_STRING"></param>
         <param name="filter" sqlType="QUERY_STRING"></param>
      </query>
      <query id="getDataMstCollAttendance" returnUpdatedRowCount="false" useConfig="testingdso">
         <sql>SELECT companyCode, attCode, attName, attendFlag, cashFlag, utjFlag, flagActive, updatedDateStr FROM (&#xD;&#x9;SELECT &#xD;&#x9;&#x9;A.company_code companyCode,&#xD;&#x9;&#x9;A.att_code attCode,&#xD;&#x9;&#x9;A.att_name attName,&#xD;&#x9;&#x9;A.attend_flag attendFlag,&#xD;&#x9;&#x9;A.cash_flag cashFlag,&#xD;&#x9;&#x9;A.utj_flag utjFlag,&#xD;&#x9;&#x9;A.flag_Active flagActive,&#xD;&#x9;&#x9;CONVERT(varchar, A.UPDATE_DATE, 121) as updatedDateStr&#xD;&#x9;FROM MST_COLL_ATTENDANCE A&#xD;) a WHERE :search :filter ORDER BY :orderBy :direction OFFSET :page ROWS FETCH NEXT :limit ROWS ONLY</sql>
         <result element="Entries" rowName="contents" useColumnNumbers="false">
            <element column="companyCode" name="companyCode" xsdType="string"></element>
            <element column="attCode" name="attCode" xsdType="string"></element>
            <element column="attName" name="attName" xsdType="string"></element>
            <element column="attendFlag" name="attendFlag" xsdType="string"></element>
            <element column="cashFlag" name="cashFlag" xsdType="string"></element>
            <element column="utjFlag" name="utjFlag" xsdType="string"></element>
            <element column="flagActive" name="flagActive" xsdType="string"></element>
            <element column="updatedDateStr" name="updatedDateStr" xsdType="string"></element>
         </result>
         <param name="search" sqlType="QUERY_STRING"></param>
         <param name="filter" sqlType="QUERY_STRING"></param>
         <param name="orderBy" sqlType="QUERY_STRING"></param>
         <param name="direction" sqlType="QUERY_STRING"></param>
         <param name="page" sqlType="INTEGER"></param>
         <param name="limit" sqlType="INTEGER"></param>
      </query>
      <query id="insertMstBucket" returnUpdatedRowCount="true" useConfig="testingdso2">
         <sql>INSERT INTO MST_BUCKET&#xD;(&#xD;    COMPANY_CODE,&#xD;    BUCKET_CODE,&#xD;    PRODUCT_CODE,&#xD;    DESCRIPTION,&#xD;    BUCKET_TYPE,&#xD;    OD_DAY_FROM,&#xD;    OD_DAY_TO,&#xD;    FLAG_ACTIVE,&#xD;&#x9;FLAG_REVITALIZATION,&#xD;    CREATED_DATE,&#xD;    CREATED_BY&#xD;)&#xD;VALUES&#xD;(&#xD;    :companyCode,&#xD;    :bucketCode,&#xD;    :productCode,&#xD;    :description,&#xD;    :bucketType,&#xD;    :odDayFrom,&#xD;    :odDayTo,&#xD;    :flagActive,&#xD;&#x9;:flagRevitalisasi,&#xD;    GETDATE(),&#xD;    :createdBy&#xD;)</sql>
         <result element="UpdatedRowCount" rowName="" useColumnNumbers="true">
            <element column="1" name="Value" xsdType="integer"></element>
         </result>
         <param name="companyCode" sqlType="STRING"></param>
         <param name="bucketCode" sqlType="STRING"></param>
         <param name="productCode" sqlType="STRING"></param>
         <param name="description" sqlType="STRING"></param>
         <param name="bucketType" sqlType="STRING"></param>
         <param name="odDayFrom" sqlType="STRING"></param>
         <param name="odDayTo" sqlType="STRING"></param>
         <param name="flagActive" sqlType="STRING"></param>
         <param name="flagRevitalisasi" sqlType="STRING"></param>
         <param name="createdBy" sqlType="STRING"></param>
      </query>
      <query id="updateMstBucket" returnUpdatedRowCount="true" useConfig="testingdso2">
         <sql>UPDATE MST_BUCKET SET&#xD;&#x9;DESCRIPTION = :description,&#xD;&#x9;OD_DAY_FROM = :odDayFrom,&#xD;&#x9;OD_DAY_TO = :odDayTo,&#xD;&#x9;FLAG_ACTIVE = :flagActive,&#xD;&#x9;FLAG_REVITALIZATION = :flagRevitalisasi,&#xD;    UPDATED_DATE = GETDATE(),&#xD;&#x9;UPDATED_BY = :updateBy&#xD;WHERE&#xD;&#x9;COMPANY_CODE = :companyCode AND BUCKET_CODE = :bucketCode AND BUCKET_TYPE = :bucketType AND PRODUCT_CODE = :productCode</sql>
         <result element="UpdatedRowCount" rowName="" useColumnNumbers="true">
            <element column="1" name="Value" xsdType="integer"></element>
         </result>
         <param name="description" sqlType="STRING"></param>
         <param name="odDayFrom" sqlType="STRING"></param>
         <param name="odDayTo" sqlType="STRING"></param>
         <param name="flagActive" sqlType="STRING"></param>
         <param name="flagRevitalisasi" sqlType="STRING"></param>
         <param name="updateBy" sqlType="STRING"></param>
         <param name="companyCode" sqlType="STRING"></param>
         <param name="bucketCode" sqlType="STRING"></param>
         <param name="bucketType" sqlType="STRING"></param>
         <param name="productCode" sqlType="STRING"></param>
      </query>
      <resource method="GET" path="/getColumn/mstCollAttendance">
         <call-query href="getColumnMstCollAttendance"></call-query>
      </resource>
      <resource method="POST" path="/getCount/mstCollAttendance">
         <call-query href="getCountMstCollAttendance">
            <with-param name="search" query-param="search"></with-param>
            <with-param name="filter" query-param="filter"></with-param>
         </call-query>
      </resource>
      <resource method="POST" path="/getData/mstCollAttendance">
         <call-query href="getDataMstCollAttendance">
            <with-param name="search" query-param="search"></with-param>
            <with-param name="filter" query-param="filter"></with-param>
            <with-param name="orderBy" query-param="orderBy"></with-param>
            <with-param name="direction" query-param="direction"></with-param>
            <with-param name="page" query-param="page"></with-param>
            <with-param name="limit" query-param="limit"></with-param>
         </call-query>
      </resource>
      <resource method="POST" path="/mstBucket">
         <call-query href="insertMstBucket">
            <with-param name="companyCode" query-param="companyCode"></with-param>
            <with-param name="bucketCode" query-param="bucketCode"></with-param>
            <with-param name="productCode" query-param="productCode"></with-param>
            <with-param name="description" query-param="description"></with-param>
            <with-param name="bucketType" query-param="bucketType"></with-param>
            <with-param name="odDayFrom" query-param="odDayFrom"></with-param>
            <with-param name="odDayTo" query-param="odDayTo"></with-param>
            <with-param name="flagActive" query-param="flagActive"></with-param>
            <with-param name="flagRevitalisasi" query-param="flagRevitalisasi"></with-param>
            <with-param name="createdBy" query-param="createdBy"></with-param>
         </call-query>
      </resource>
      <resource method="PUT" path="/mstBucket">
         <call-query href="updateMstBucket">
            <with-param name="description" query-param="description"></with-param>
            <with-param name="odDayFrom" query-param="odDayFrom"></with-param>
            <with-param name="odDayTo" query-param="odDayTo"></with-param>
            <with-param name="flagActive" query-param="flagActive"></with-param>
            <with-param name="flagRevitalisasi" query-param="flagRevitalisasi"></with-param>
            <with-param name="updateBy" query-param="updateBy"></with-param>
            <with-param name="companyCode" query-param="companyCode"></with-param>
            <with-param name="bucketCode" query-param="bucketCode"></with-param>
            <with-param name="bucketType" query-param="bucketType"></with-param>
            <with-param name="productCode" query-param="productCode"></with-param>
         </call-query>
      </resource>
   </data>
</root>